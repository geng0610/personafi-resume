    // these are the quantities
    // the groups are
    // 1: essential axiomatic units m, l, t
    // 2: related to movement
    // 3: related to energy
    // 4: related to a single unit
    nodes=[
    {"name":"j-p-errico","group":2, rad:24, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"j-p-errico"},
{"name":"daniel-nelson-4","group":3, rad:24, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"daniel-nelson-4"},
{"name":"frank-barbieri","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"frank-barbieri"},
{"name":"ismail-kola","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"ismail-kola"},
{"name":"james-page","group":2, rad:24, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"james-page"},
{"name":"shawn-c-rathje","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"shawn-c-rathje"},
{"name":"geoffrey-bessin","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"geoffrey-bessin"},
{"name":"jim-paulson","group":3, rad:24, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"jim-paulson"},
{"name":"jin-kim","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"jin-kim"},
{"name":"kevin-casey","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"kevin-casey"},
{"name":"kimberley-kasper","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"kimberley-kasper"},
{"name":"lior-sion","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"lior-sion"},
{"name":"michael-m-campbell","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"michael-m-campbell"},
{"name":"michael-szabados","group":3, rad:24, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"michael-szabados"},
{"name":"nancy-schoendorf","group":3, rad:24, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"nancy-schoendorf"},
{"name":"john-eden","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"john-eden"},
{"name":"paula-keve","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"paula-keve"},
{"name":"ravi-thummarukudy","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"ravi-thummarukudy"},
{"name":"steve-oetegenn","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"steve-oetegenn"},
{"name":"ajay-kulkarni","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"ajay-kulkarni"},
{"name":"andrew-dudum","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"andrew-dudum"},
{"name":"aviram-eisenberg","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"aviram-eisenberg"},
{"name":"brent-ramsby","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"brent-ramsby"},
{"name":"frank-langston","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"frank-langston"},
{"name":"giorgos-zacharia","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"giorgos-zacharia"},
{"name":"lisa-pavey","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"lisa-pavey"},
{"name":"nathaniel-landau","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"nathaniel-landau"},
{"name":"shimon-hason","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"shimon-hason"},
{"name":"steve-davis-5","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"steve-davis-5"},
{"name":"teddy-mekuria","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"teddy-mekuria"},
{"name":"thomas-hodge","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"thomas-hodge"},
{"name":"susan-moon","group":3, rad:24, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"susan-moon"},
{"name":"tamra-lichtman","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"tamra-lichtman"},
{"name":"trent-peterson","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"trent-peterson"},
{"name":"sam-nunez","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"sam-nunez"},
{"name":"william-peng","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"william-peng"},
{"name":"trieu-pham","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"trieu-pham"},
{"name":"joakim-achren","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"joakim-achren"},
{"name":"satya-iluri","group":1, rad:12, image:"https://cdn2.iconfinder.com/data/icons/webdev-round-pack/512/user-24.png", width: 24, height: 24, "node_comment":"satya-iluri"}
    ],

    // the relations shown can be calculated using
    // formulas from either 1 or 2 other quantities
    links=[
    {"link_id":"L_25", "source":0,"target":4,"value":9, "length":86, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "Massachusetts Institute, Technology, products"},
{"link_id":"L_70", "source":1,"target":13,"value":9, "length":86, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "MBA, VP, Product Management"},
{"link_id":"L_77", "source":1,"target":31,"value":9, "length":86, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "Director, Product Management, MBA"},
{"link_id":"L_95", "source":2,"target":28,"value":9, "length":86, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "business development, product management, career"},
{"link_id":"L_104", "source":3,"target":10,"value":9, "length":86, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "Director, products, Vice President"},
{"link_id":"L_105", "source":3,"target":12,"value":9, "length":86, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "Executive Vice President, products, leadership"},
{"link_id":"L_182", "source":0,"target":16,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "New York, products"},
{"link_id":"L_185", "source":4,"target":30,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": ", products, group"},
{"link_id":"L_212", "source":5,"target":30,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": ", services, products"},
{"link_id":"L_600", "source":6,"target":32,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "Chief Marketing Officer, product management"},
{"link_id":"L_662", "source":3,"target":5,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "products, tenure"},
{"link_id":"L_668", "source":0,"target":18,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "CEO, products"},
{"link_id":"L_682", "source":4,"target":12,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "mechanical engineering, products"},
{"link_id":"L_695", "source":7,"target":13,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "MBA, product development"},
{"link_id":"L_696", "source":7,"target":14,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "MBA, product development"},
{"link_id":"L_697", "source":7,"target":26,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "design, product development"},
{"link_id":"L_704", "source":8,"target":14,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "bachelor, product development"},
{"link_id":"L_705", "source":8,"target":26,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "bachelor, product development"},
{"link_id":"L_707", "source":8,"target":28,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "bachelor, product management"},
{"link_id":"L_738", "source":9,"target":5,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "products, services"},
{"link_id":"L_739", "source":9,"target":30,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "products, services"},
{"link_id":"L_743", "source":10,"target":12,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "Education, products"},
{"link_id":"L_745", "source":10,"target":33,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "customers, products"},
{"link_id":"L_769", "source":11,"target":14,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "R&amp, product development"},
{"link_id":"L_823", "source":12,"target":13,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "Product Management, responsibility"},
{"link_id":"L_825", "source":13,"target":14,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "MBA, product development"},
{"link_id":"L_828", "source":13,"target":31,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "MBA, Product Management"},
{"link_id":"L_841", "source":14,"target":26,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "bachelor, product development"},
{"link_id":"L_845", "source":14,"target":29,"value":4, "length":152, image:"http://findicons.com/files/icons/2637/ic_circle_social_icons/48/facebook.png", "link_comment": "business administration, product development"},
    ];

var width = parseInt(d3.select('#chart').style('width'), 10);
    height = width;

var color = d3.scale.category20();

var force = d3.layout.force()
    .charge(-200)
    .linkDistance(30)
    .size([width, height]);

var svg = d3.select("#chart").append("svg")
    .attr("width", width)
    .attr("height", height);

/********************************

OLIVER

Every link now has a "distance" property that indicates the length. 
Then in the force.nodes.... below you need to add 

.linkDistance(function(d) {return d.length;})

**********************************/

  force
      .nodes(nodes)
      .links(links)
      .linkDistance(function(d) {return d.length/1.2;})
      .start();

tipLink = d3.tip().attr('class', 'd3-tip')
.html(function(d) { return "<strong>" + d.link_comment + "</strong>"; });  
/*.html(function(d) { return "<img src='" + d.image + "'><strong>" + d.link_comment + "</strong>"; }); //d.source.image will take image from source instead of self.

  /* Invoke the tip in the context of your visualization */
  svg.call(tipLink);

  var link = svg.selectAll(".link")
      .data(links)
    .enter().append("line")
      .attr("class", "link")
      .attr("id", function(d) { return d.link_id; })
      .style("stroke-width", function(d) { return Math.sqrt(d.value); });
      
var linkOverlay = svg.selectAll(".linkOverlay")
      .data(links)
    .enter().append("line")
      .attr("class", "linkOverlay")
      .style("stroke-width", 20)
      .style("opacity", 0)
      .attr("pointer-events", "all")
      .on("mouseover", function(d) {
        d3.select("#" + d.link_id)
          .style("stroke-width", function(d) { return 2.5 * Math.sqrt(d.value); });
        tipLink.show(d);
      })
      .on("mouseout", function(d) {
        d3.select("#" + d.link_id)
          .style("stroke-width", function(d) { return Math.sqrt(d.value); });
        tipLink.hide(d);
      });

/***************************
READ CODE BEFORE THIS COMMENT
*******************************/

/***************************
OLIVER

Every node now has a "rad" property that indicates the radius. Then in the node
variable you just change the following:

.attr("r", function(d){return d.rad;})

***************************/

  var node = svg.selectAll(".node")
      .data(nodes)
  .enter().append("g")
      .attr("class", "node")
      .call(force.drag);
      
tip = d3.tip().attr('class', 'd3-tip')
  .html(function(d) { return "<strong>" + d.node_comment + "</strong>"; });
/*.html(function(d) { return "<img src='" + d.image + "'><strong>" + d.node_comment + "</strong>"; });

  /* Invoke the tip in the context of your visualization */
  svg.call(tip);
      node.append("circle")
      .attr("r", function(d){return d.rad*1;})
      .style("fill", function(d) { return color(d.group); })
      .on("mouseover", function(d) {
        d3.select(this).attr("r", d.rad * 1.2);
        tip.show(d);
      })
      .on("mouseout", function(d) {
        d3.select(this).attr("r", d.rad * 1);
        tip.hide(d);
      });
      
  node.append("image")
      //.attr("transform", function(d) { return "scale(" + d.rad + ")"; })
      .attr("xlink:href", function(d) { return d.image; })
      .attr("pointer-events", "none")  //ignore mouse over event.
      .attr("x", function(d) { return -d.width / 2; })
      .attr("y", function(d) { return -d.height / 2; })
      .attr("width", function(d) { return d.width; })
      .attr("height", function(d) { return d.height; });
    
    
    /*.append("circle")
      .attr("class", "node")
  .attr("r", function(d){return d.rad*2;})
      .style("fill", function(d) { return color(d.group); })
      .call(force.drag);*/


/******************************
READ THE CODE BEFORE THIS COMMENT
***************************/

  node.append("title")
      .text(function(d) { return d.name; });

  force.on("tick", function() {
    link.attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });
    linkOverlay.attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });

    node.attr("transform", function(d) { return "translate(" + [ d.x, d.y ] + ")"; });
  });
